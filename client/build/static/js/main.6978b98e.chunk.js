(this.webpackJsonptweetlibs=this.webpackJsonptweetlibs||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),o=a.n(l),c=(a(72),a(28)),i=a(6),s=a(56),u=a(13),m=a(14),d=a(16),h=a(15),g=a(17),p=a.n(g),f=a(103);var E=function(e){var t=e.error.map((function(e,t){return r.a.createElement("p",{key:t},e)}));return e.error.length>0?r.a.createElement(f.a,{variant:e.variant,onClose:e.clearErrors,dismissible:!0},r.a.createElement(f.a.Heading,null,e.message),r.a.createElement("div",null,t)):r.a.createElement(r.a.Fragment,null)},v=a(109),b=a(110),w=a(57),y=a(108),C=a(107),S=a(104),k=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={firstName:"",lastName:"",email:"",password1:"",password2:"",user_email:"",registered_pass:"",loggedIn:!1,variant:"danger",alert_msg:"",errors:[]},e.handleChange=function(t){var a=t.target.name;e.setState(Object(s.a)({},a,t.target.value))},e.registerApiHandle=function(t){t.preventDefault();var a={firstName:e.state.firstName,lastName:e.state.lastName,email:e.state.email,password1:e.state.password1,password2:e.state.password2};p.a.post("/register",a).then((function(t){if(t.data.msg)if("New account created. You may now log in!"===t.data.msg){var a=[];a.push(t.data.msg),e.setState({errors:a}),e.setState({variant:"success"}),e.setState({alert_msg:"Success"})}else{var n=[];n.push(t.data.msg),e.setState({errors:n}),e.setState({alert_msg:"Error"})}else if(t.data.errors.length>0){var r=[];t.data.errors.forEach((function(e){var t=e.msg;r.push(t)})),e.setState({errors:r}),e.setState({alert_msg:"Error"})}})).catch((function(e){console.log(e)}))},e.loginApiHandle=function(t){t.preventDefault();var a={email:e.state.user_email,password:e.state.registered_pass};p.a.post("/login",a).then((function(t){console.log(t),!0===t.data.loggedIn?(localStorage.setItem("user_id",t.data.id),localStorage.setItem("loggedIn",!0),e.setState({loggedIn:!0}),window.location.reload()):localStorage.setItem("loggedIn",!1)})).catch((function(e){console.log(e)}))},e.clearErrors=function(){e.setState({errors:[]})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return"false"===localStorage.getItem("loggedIn")||!1===this.state.loggedIn?r.a.createElement(v.a.Container,{id:"left-tabs-example",defaultActiveKey:"register"},r.a.createElement(b.a,{className:"m-5"},r.a.createElement(w.a,null,r.a.createElement(y.a,{variant:"pills nav-fill m-4"},r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{eventKey:"register"},"Register")),r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{eventKey:"login"},"Login")))),r.a.createElement(E,{error:this.state.errors,clearErrors:this.clearErrors,variant:this.state.variant,message:this.state.alert_msg}),r.a.createElement(w.a,null,r.a.createElement(v.a.Content,{className:"m-3"},r.a.createElement(v.a.Pane,{eventKey:"register"},r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"First Name"),r.a.createElement(C.a.Control,{name:"firstName",placeholder:"First Name",onChange:function(t){return e.handleChange(t)}})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Last Name"),r.a.createElement(C.a.Control,{name:"lastName",placeholder:"Last Name",onChange:function(t){return e.handleChange(t)}})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Email"),r.a.createElement(C.a.Control,{name:"email",type:"email",placeholder:"Email",onChange:function(t){return e.handleChange(t)}})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Password"),r.a.createElement(C.a.Control,{name:"password1",type:"password",placeholder:"Password (must be at least 6 characters)",onChange:function(t){return e.handleChange(t)}})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Confirm Password"),r.a.createElement(C.a.Control,{name:"password2",type:"password",placeholder:"Confirm Password",onChange:function(t){return e.handleChange(t)}})),r.a.createElement(S.a,{variant:"primary",type:"submit",onClick:this.registerApiHandle},"Register")),r.a.createElement(v.a.Pane,{eventKey:"login"},r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Email"),r.a.createElement(C.a.Control,{name:"user_email",type:"email",placeholder:"Email",onChange:function(t){return e.handleChange(t)}})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Password"),r.a.createElement(C.a.Control,{name:"registered_pass",type:"password",placeholder:"Password",onChange:function(t){return e.handleChange(t)}})),r.a.createElement(S.a,{variant:"primary",type:"submit",onClick:this.loginApiHandle},"Login")))))):r.a.createElement(i.a,{from:"/login",to:"/create"})}}]),a}(n.Component),L=function(e){return r.a.createElement("div",null,r.a.createElement(S.a,{variant:"danger",onClick:e.logOut},"Logout"))},O=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){localStorage.setItem("loggedIn",!1),window.location.reload(),p.a.get("/logout").then((function(e){})).catch((function(e){console.log(e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return"true"===localStorage.getItem("loggedIn")?r.a.createElement("div",null,r.a.createElement("h1",null,"You are now logged in"),r.a.createElement(L,{logOut:this.handleLogout})):r.a.createElement(i.a,{from:"/dashboard",to:"/login"})}}]),a}(n.Component),I=(a(96),a(44)),j=a.n(I),N=a(61),_=(a(98),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e="";return this.props.ending&&(e="(ending in ".concat(this.props.ending,")")),this.props.ending||"adjective"!=this.props.speech||(e="(that does not end in ly)"),this.props.ending||"verb"!=this.props.speech||(e="(that does not end in ly or ing)"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"spacing"},r.a.createElement(C.a.Label,null,r.a.createElement("strong",null,this.props.speech)," ",e),r.a.createElement(C.a.Control,{type:"text",id:this.props.movieKey,onChange:this.props.onchange})))}}]),a}(r.a.Component)),A=a(106);var F=function(e){return!0===e.state?r.a.createElement(A.a,{show:e.state,onClose:e.close},r.a.createElement(A.a.Header,null,r.a.createElement(A.a.Title,null,"User Name")),r.a.createElement(A.a.Body,null,e.libbed),r.a.createElement(A.a.Footer,null,r.a.createElement(S.a,{variant:"secondary",onClick:(e.close,e.reload)},"Close"),r.a.createElement(S.a,{variant:"primary",onClick:(e.close,e.redirect)},"Save Changes"))):r.a.createElement(r.a.Fragment,null)},P=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:[],user_id:localStorage.getItem("user_id"),show:!1,libbed:""},e.handleClose=function(){e.setState({show:!1})},e.handleRedirect=function(){e.props.history.replace("/")},e.refreshPage=function(){window.location.reload(!1)},e.handleShow=function(){e.setState({show:!0})},e.handleOnChange=function(t){var a=t.target,n=a.value,r=a.id;console.log(n,r);var l=e.state.data.find((function(e){return e.key===Number(r)}));l.newWord=n;var o=e.state.data.findIndex((function(e){return e.key===Number(r)})),c=e.state.data;c[o]=l,e.setState({data:c}),console.log(c)},e.handleSubmit=function(){var t={data:e.state.data,id:e.state.user_id};p.a.post("/new-words",t).then((function(t){console.log("Eureka!!",t.data),e.setState({libbed:t.data})})),e.setState({show:!0})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.get("/get-movies").then((function(e){console.log(e.data),t.setState({data:e.data}),t.displayFields()})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"displayFields",value:function(){var e=this;return this.state.data.filter((function(e){return e.flag})).map((function(t,a){return r.a.createElement(_,{key:a,movieKey:t.key,speech:t.partOfSpeech,word:t.word,punctuation:t.punctuation,ending:t.ending,onchange:e.handleOnChange,redirect:e.redirectPage,renderRedirect:e.handleRedirect})}))}},{key:"render",value:function(){return"true"===localStorage.getItem("loggedIn")?r.a.createElement("div",null,r.a.createElement(F,{show:this.handleShow,close:this.handleClose,state:this.state.show,libbed:this.state.libbed,redirect:this.handleRedirect,reload:this.refreshPage}),r.a.createElement("h2",null,"Fill in the fields, click submit and watch the magic happen!"),this.displayFields(),r.a.createElement(S.a,{variant:"primary",onClick:this.handleSubmit},"Submit")," "):r.a.createElement(i.a,{from:"/create",to:"/login"})}}]),a}(r.a.Component),K=a(105),G=function(e){console.log(e.libbedArr);var t=e.libbedArr.map((function(e){return r.a.createElement(K.a,null,r.a.createElement("h5",null,e))}));return r.a.createElement("div",null,r.a.createElement("div",null,t))},M=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){localStorage.setItem("loggedIn",!1),p.a.get("/logout").then((function(e){})).catch((function(e){console.log(e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return console.log(),"false"===localStorage.getItem("loggedIn")?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:"justify-content-end",activeKey:"/home"},r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{href:"/create"},r.a.createElement(S.a,{variant:"success"},"Create MovieLib")," ")),r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{href:"/login"},r.a.createElement(S.a,{variant:"primary"},"Login")," ")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:"justify-content-end",activeKey:"/home"},r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{href:"/create"},r.a.createElement(S.a,{variant:"success"},"Create MovieLib")," ")),r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{href:"/login"},r.a.createElement(S.a,{variant:"danger",onClick:function(){e.handleLogout()}},"Logout")))))}}]),a}(n.Component),x=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={userLibbed:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/get-all").then((function(t){var a=[];console.log("response",t.data),t.data.map((function(e){var t=[];e.libbedWords.forEach((function(e){!0===e.flag&&(e.word=e.newWord),t.push(e.word)})),t=t.toString().replace(/,/g," "),a.push(t)})),e.setState({userLibbed:a}),console.log(e.state.userLibbed)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement("h1",null,"Checkout the most recent MovieLibs!"),r.a.createElement(G,{libbedArr:this.state.userLibbed}),r.a.createElement(S.a,{variant:"success"},"Create your own MovieLib!"))}}]),a}(n.Component),H=a(66);var R=function(){return r.a.createElement(c.a,null,r.a.createElement(H.a,null,r.a.createElement(i.b,{exact:!0,path:"/",component:x}),r.a.createElement(i.b,{path:"/login",component:k}),r.a.createElement(i.b,{path:"/dashboard",component:O}),r.a.createElement(i.b,{path:"/create",component:P})))};a(99),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,a){e.exports=a(100)},72:function(e,t,a){},96:function(e,t,a){},98:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.6978b98e.chunk.js.map